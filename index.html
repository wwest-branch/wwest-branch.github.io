<html>
  <body>
    <!-- <script type="text/javascript" src="./config.js"></script> -->
    <meta name="branch_key" id="branch_key" />
    <h1>Wayne test app</h1>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>
      document.getElementById("branch_key").setAttribute("content", KEY);
    </script>
    <script type="text/javascript">
      (function (b, r, a, n, c, h, _, s, d, k) {
        if (!b[n] || !b[n]._q) {
          for (; s < _.length; ) c(h, _[s++]);
          d = r.createElement(a);
          d.async = 1;
          d.src = "dist/build.js";
          k = r.getElementsByTagName(a)[0];
          k.parentNode.insertBefore(d, k);
          b[n] = h;
        }
      })(
        window,
        document,
        "script",
        "branch",
        function (b, r) {
          b[r] = function () {
            b._q.push([r, arguments]);
          };
        },
        { _q: [], _v: 1 },
        "addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent disableTracking getBrowserFingerprintId crossPlatformIds lastAttributedTouchData setAPIResponseCallback".split(
          " "
        ),
        0
      );

      $("#user-agent").text(navigator.userAgent);
      $("#webkit").text(
        (!!window.webkitURL ? "Uses" : "Does not use") + " WebKit"
      ); // detect WKWebView?
      branch.setAPIResponseCallback(function (
        url,
        method,
        requestBody,
        error,
        status,
        responseBody
      ) {
        $("#api-requests").append(url + "\n");
        console.log(
          "Request: " +
            method +
            " " +
            url +
            " body=" +
            JSON.stringify(requestBody)
        );
        if (error) {
          console.log(
            "Response: Error " +
              error +
              "; status " +
              JSON.stringify(status) +
              " body=" +
              JSON.stringify(responseBody)
          );
        } else {
          console.log(
            "Response: status " +
              JSON.stringify(status) +
              " body=" +
              JSON.stringify(responseBody)
          );
        }
      });

      branch.init(
        $('meta[name="branch_key"]').attr("content"),
        { tracking_disabled: true },
        function (err, data) {
          // Avoid XSS by HTML escaping the data for display
          $("#info").text(JSON.stringify(data));
        }
      );
    </script>
  </body>
</html>
